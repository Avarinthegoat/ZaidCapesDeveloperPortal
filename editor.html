<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor - Zaid's Capes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: #1a1a1f;
        color: white;
        overflow: hidden;
        height: 100vh;
    }

    .editor-container {
        display: grid;
        grid-template-columns: 60px 250px 1fr 280px;
        grid-template-rows: 60px 1fr;
        height: 100vh;
    }

    /* Top Header */
    .top-header {
        grid-column: 1 / -1;
        background: #0d0d12;
        border-bottom: 1px solid rgba(168, 85, 247, 0.3);
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 20px;
    }

    .logo-section {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .logo-icon {
        width: 35px;
        height: 35px;
        background: linear-gradient(135deg, #ff0080, #ff8c00, #40e0d0);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
    }

    .project-name {
        font-size: 16px;
        color: #888;
    }

    .header-actions {
        display: flex;
        gap: 10px;
    }

    .btn {
        padding: 8px 20px;
        border-radius: 6px;
        border: none;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.3s;
    }

    .btn-secondary {
        background: rgba(255, 255, 255, 0.1);
        color: white;
    }

    .btn-secondary:hover {
        background: rgba(255, 255, 255, 0.2);
    }

    .btn-primary {
        background: linear-gradient(135deg, #a855f7, #ec4899);
        color: white;
    }

    .btn-primary:hover {
        transform: translateY(-1px);
    }

    /* Tool Sidebar */
    .tool-sidebar {
        background: #0d0d12;
        border-right: 1px solid rgba(168, 85, 247, 0.3);
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px 0;
        gap: 10px;
    }

    .tool-btn {
        width: 45px;
        height: 45px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(168, 85, 247, 0.3);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 20px;
    }

    .tool-btn:hover, .tool-btn.active {
        background: rgba(168, 85, 247, 0.3);
        border-color: #a855f7;
    }

    /* Properties Panel */
    .properties-panel {
        background: #0d0d12;
        border-left: 1px solid rgba(168, 85, 247, 0.3);
        padding: 20px;
        overflow-y: auto;
    }

    .panel-section {
        margin-bottom: 25px;
    }

    .panel-section h3 {
        font-size: 14px;
        color: #a855f7;
        margin-bottom: 15px;
        text-transform: uppercase;
    }

    .control-group {
        margin-bottom: 15px;
    }

    .control-group label {
        display: block;
        font-size: 12px;
        color: #888;
        margin-bottom: 8px;
    }

    input[type="range"] {
        width: 100%;
        height: 4px;
        background: rgba(168, 85, 247, 0.3);
        border-radius: 2px;
        outline: none;
    }

    input[type="range"]::-webkit-slider-thumb {
        width: 16px;
        height: 16px;
        background: #a855f7;
        border-radius: 50%;
        cursor: pointer;
    }

    input[type="file"] {
        display: none;
    }

    .file-upload-btn {
        width: 100%;
        padding: 12px;
        background: rgba(168, 85, 247, 0.2);
        border: 1px dashed #a855f7;
        border-radius: 8px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s;
    }

    .file-upload-btn:hover {
        background: rgba(168, 85, 247, 0.3);
    }

    /* Layers Panel */
    .layers-panel {
        background: #0d0d12;
        border-right: 1px solid rgba(168, 85, 247, 0.3);
        padding: 20px;
        overflow-y: auto;
    }

    .layers-panel h3 {
        font-size: 14px;
        color: #a855f7;
        margin-bottom: 15px;
        text-transform: uppercase;
    }

    .layers-list {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

    .layer-item {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(168, 85, 247, 0.3);
        border-radius: 8px;
        padding: 12px;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .layer-item:hover, .layer-item.active {
        background: rgba(168, 85, 247, 0.2);
        border-color: #a855f7;
    }

    .layer-controls {
        display: flex;
        gap: 5px;
    }

    .layer-btn {
        width: 25px;
        height: 25px;
        background: rgba(255, 255, 255, 0.1);
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 12px;
        transition: all 0.3s;
    }

    .layer-btn:hover {
        background: rgba(168, 85, 247, 0.5);
    }

    /* Canvas Area */
    .canvas-area {
        background: #1a1a1f;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
    }

    #mainCanvas {
        max-width: 100%;
        max-height: 100%;
        box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
        image-rendering: crisp-edges;
    }

    .canvas-placeholder {
        text-align: center;
        color: #666;
    }

    .canvas-placeholder h2 {
        font-size: 24px;
        margin-bottom: 10px;
    }

    .filter-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
    }

    .filter-btn {
        padding: 10px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(168, 85, 247, 0.3);
        border-radius: 6px;
        cursor: pointer;
        font-size: 12px;
        transition: all 0.3s;
        color: white;
    }

    .filter-btn:hover {
        background: rgba(168, 85, 247, 0.3);
        border-color: #a855f7;
    }

    .value-display {
        color: #a855f7;
        font-size: 12px;
        float: right;
    }
</style>
```

</head>
<body>
    <div class="editor-container">
        <!-- Top Header -->
        <div class="top-header">
            <div class="logo-section">
                <div class="logo-icon">üî•</div>
                <span class="project-name">Untitled Project</span>
            </div>
            <div class="header-actions">
                <button class="btn btn-secondary" onclick="saveProject()">üíæ Save</button>
                <button class="btn btn-primary" onclick="exportImage()">‚¨á Export</button>
                <button class="btn btn-secondary" onclick="window.location.href='dashboard.html'">‚úï</button>
            </div>
        </div>

```
    <!-- Tool Sidebar -->
    <div class="tool-sidebar">
        <div class="tool-btn active" title="Select" onclick="selectTool('select')">‚ÜñÔ∏è</div>
        <div class="tool-btn" title="Brush" onclick="selectTool('brush')">üñåÔ∏è</div>
        <div class="tool-btn" title="Eraser" onclick="selectTool('eraser')">üßπ</div>
        <div class="tool-btn" title="Text" onclick="selectTool('text')">T</div>
        <div class="tool-btn" title="Shape" onclick="selectTool('shape')">‚¨ú</div>
        <div class="tool-btn" title="Crop" onclick="selectTool('crop')">‚úÇÔ∏è</div>
    </div>

    <!-- Layers Panel -->
    <div class="layers-panel">
        <h3>LAYERS</h3>
        <button class="btn btn-primary" style="width: 100%; margin-bottom: 15px;" onclick="addLayer()">+ New Layer</button>
        <div class="layers-list" id="layersList">
            <div class="layer-item active">
                <span>Background</span>
                <div class="layer-controls">
                    <button class="layer-btn">üëÅ</button>
                    <button class="layer-btn">üóë</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Canvas Area -->
    <div class="canvas-area" id="canvasArea">
        <div class="canvas-placeholder">
            <h2>Create Your Masterpiece</h2>
            <p>Upload an image or create a new canvas to start</p>
        </div>
        <canvas id="mainCanvas" style="display: none;"></canvas>
    </div>

    <!-- Properties Panel -->
    <div class="properties-panel">
        <div class="panel-section">
            <h3>üìÅ FILE</h3>
            <label for="fileInput" class="file-upload-btn">
                üì§ Upload Image
            </label>
            <input type="file" id="fileInput" accept="image/*" onchange="loadImage(event)">
        </div>

        <div class="panel-section">
            <h3>üé® ADJUSTMENTS</h3>
            <div class="control-group">
                <label>Brightness <span class="value-display" id="brightnessValue">0</span></label>
                <input type="range" id="brightness" min="-100" max="100" value="0" oninput="applyFilters()">
            </div>
            <div class="control-group">
                <label>Contrast <span class="value-display" id="contrastValue">0</span></label>
                <input type="range" id="contrast" min="-100" max="100" value="0" oninput="applyFilters()">
            </div>
            <div class="control-group">
                <label>Saturation <span class="value-display" id="saturationValue">0</span></label>
                <input type="range" id="saturation" min="-100" max="100" value="0" oninput="applyFilters()">
            </div>
            <div class="control-group">
                <label>Blur <span class="value-display" id="blurValue">0</span></label>
                <input type="range" id="blur" min="0" max="20" value="0" oninput="applyFilters()">
            </div>
        </div>

        <div class="panel-section">
            <h3>‚ú® FILTERS</h3>
            <div class="filter-grid">
                <button class="filter-btn" onclick="applyFilter('grayscale')">Grayscale</button>
                <button class="filter-btn" onclick="applyFilter('sepia')">Sepia</button>
                <button class="filter-btn" onclick="applyFilter('invert')">Invert</button>
                <button class="filter-btn" onclick="applyFilter('vintage')">Vintage</button>
            </div>
        </div>

        <div class="panel-section">
            <h3>üîß TRANSFORM</h3>
            <div class="control-group">
                <button class="btn btn-secondary" style="width: 100%; margin-bottom: 8px;" onclick="flipHorizontal()">‚¨å Flip Horizontal</button>
                <button class="btn btn-secondary" style="width: 100%; margin-bottom: 8px;" onclick="flipVertical()">‚¨ç Flip Vertical</button>
                <button class="btn btn-secondary" style="width: 100%;" onclick="rotate90()">‚Üª Rotate 90¬∞</button>
            </div>
        </div>
    </div>
</div>

<script>
    let canvas = document.getElementById('mainCanvas');
    let ctx = canvas.getContext('2d');
    let currentImage = null;
    let originalImage = null;
    let currentTool = 'select';
    let layers = [{name: 'Background', visible: true}];

    function selectTool(tool) {
        currentTool = tool;
        document.querySelectorAll('.tool-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');
    }

    function loadImage(e) {
        const file = e.target.files[0];
        const reader = new FileReader();

        reader.onload = function(event) {
            const img = new Image();
            img.onload = function() {
                canvas.width = img.width;
                canvas.height = img.height;
                ctx.drawImage(img, 0, 0);
                
                currentImage = img;
                originalImage = ctx.getImageData(0, 0, canvas.width, canvas.height);
                
                document.querySelector('.canvas-placeholder').style.display = 'none';
                canvas.style.display = 'block';
            };
            img.src = event.target.result;
        };
        reader.readAsDataURL(file);
    }

    function applyFilters() {
        if (!currentImage) return;

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.putImageData(originalImage, 0, 0);

        const brightness = document.getElementById('brightness').value;
        const contrast = document.getElementById('contrast').value;
        const saturation = document.getElementById('saturation').value;
        const blur = document.getElementById('blur').value;

        document.getElementById('brightnessValue').textContent = brightness;
        document.getElementById('contrastValue').textContent = contrast;
        document.getElementById('saturationValue').textContent = saturation;
        document.getElementById('blurValue').textContent = blur;

        ctx.filter = `brightness(${100 + parseInt(brightness)}%) contrast(${100 + parseInt(contrast)}%) saturate(${100 + parseInt(saturation)}%) blur(${blur}px)`;
        ctx.drawImage(canvas, 0, 0);
        ctx.filter = 'none';
    }

    function applyFilter(filterType) {
        if (!currentImage) return;

        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
        const data = imageData.data;

        for (let i = 0; i < data.length; i += 4) {
            const r = data[i];
            const g = data[i + 1];
            const b = data[i + 2];

            switch(filterType) {
                case 'grayscale':
                    const gray = 0.299 * r + 0.587 * g + 0.114 * b;
                    data[i] = data[i + 1] = data[i + 2] = gray;
                    break;
                case 'sepia':
                    data[i] = Math.min(255, (r * 0.393) + (g * 0.769) + (b * 0.189));
                    data[i + 1] = Math.min(255, (r * 0.349) + (g * 0.686) + (b * 0.168));
                    data[i + 2] = Math.min(255, (r * 0.272) + (g * 0.534) + (b * 0.131));
                    break;
                case 'invert':
                    data[i] = 255 - r;
                    data[i + 1] = 255 - g;
                    data[i + 2] = 255 - b;
                    break;
                case 'vintage':
                    data[i] = r * 1.2;
                    data[i + 1] = g * 0.9;
                    data[i + 2] = b * 0.7;
                    break;
            }
        }

        ctx.putImageData(imageData, 0, 0);
    }

    function flipHorizontal() {
        if (!currentImage) return;
        ctx.save();
        ctx.scale(-1, 1);
        ctx.drawImage(canvas, -canvas.width, 0);
        ctx.restore();
    }

    function flipVertical() {
        if (!currentImage) return;
        ctx.save();
        ctx.scale(1, -1);
        ctx.drawImage(canvas, 0, -canvas.height);
        ctx.restore();
    }

    function rotate90() {
        if (!currentImage) return;
        const tempCanvas = document.createElement('canvas');
        tempCanvas.width = canvas.height;
        tempCanvas.height = canvas.width;
        const tempCtx = tempCanvas.getContext('2d');
        
        tempCtx.save();
        tempCtx.translate(tempCanvas.width / 2, tempCanvas.height / 2);
        tempCtx.rotate(Math.PI / 2);
        tempCtx.drawImage(canvas, -canvas.width / 2, -canvas.height / 2);
        tempCtx.restore();
        
        canvas.width = tempCanvas.width;
        canvas.height = tempCanvas.height;
        ctx.drawImage(tempCanvas, 0, 0);
    }

    function addLayer() {
        const layerName = `Layer ${layers.length}`;
        layers.push({name: layerName, visible: true});
        
        const layerItem = document.createElement('div');
        layerItem.className = 'layer-item';
        layerItem.innerHTML = `
            <span>${layerName}</span>
            <div class="layer-controls">
                <button class="layer-btn">üëÅ</button>
                <button class="layer-btn">üóë</button>
            </div>
        `;
        document.getElementById('layersList').appendChild(layerItem);
    }

    function exportImage() {
        if (!currentImage) {
            alert('No image to export!');
            return;
        }
        
        const link = document.createElement('a');
        link.download = 'zaid-capes-export.png';
        link.href = canvas.toDataURL();
        link.click();
    }

    function saveProject() {
        if (!currentImage) {
            alert('No project to save!');
            return;
        }
        
        const projects = JSON.parse(localStorage.getItem('projects') || '[]');
        const project = {
            id: Date.now(),
            name: 'My Project ' + (projects.length + 1),
            date: new Date().toLocaleDateString(),
            imageData: canvas.toDataURL()
        };
        
        projects.push(project);
        localStorage.setItem('projects', JSON.stringify(projects));
        alert('Project saved successfully!');
    }
</script>
```

</body>
</html>
